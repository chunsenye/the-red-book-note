## 对象属性类型

### 数据属性

1.Configurable

默认为true，可以使用delete删除改属性

2.Enumerable

默认为true，可以通过for-in循环遍历

3.Writable

默认为true，可以修改属性的值

4.Value

默认为undefined，属性key对应的value

#### 修改数据属性

Object.defineProperty()

接收三个参数：属性所在的对象，属性名字，描述符对象（上面四个属性）
```
var person = {};
Object.defineProperty(person, "name", {
    writable: false,//可省 调用这个方法默认值都为false
    value: "Nicholas"
});
alert(person.name); //"Nicholas" person.name = "Greg"; alert(person.name); //"Nicholas"
```
writable 设置为不可写入时会写入失败，另外其他两个属性也是设置为false了，当configurable为false便不可再重新定义了，所以这时候属性当值是无法再更改的了
```
var person = {};
Object.defineProperty(person, "name", {
    configurable: false,
    value: "Nicholas"
});
alert(person.name); //"Nicholas" delete person.name; alert(person.name); //"Nicholas"
```

```
var person = {};
Object.defineProperty(person, "name", {
    configurable: false,
    value: "Nicholas"
});
//􏻐出错误
Object.defineProperty(person, "name", {
    configurable: true,
    value: "Nicholas"
});
```

### 访问器特性

1.Configurable

默认为true，可以使用delete删除改属性

2.Enumerable

默认为true，可以通过for-in循环遍历

3.Get

默认为undefined，读取属性时调用当函数

4.Set

默认为undefined，写入属性时调用当函数

#### 定义访问器属性

Object.defineProperty()

```
var book = {
    _year: 2004,
    edition: 1 
};
Object.defineProperty(book, "year", {
    get: function(){
        return this._year;
    },
    set: function(newValue){
        if (newValue > 2004) {
            this._year = newValue;
            this.edition += newValue - 2004;
        } 
    }
});
book.year = 2005; 
alert(book.edition); //2
```
这个访问器属性就是订阅者模式的应用，可以用来监听某个数据的变化，来进行一定的操作。在vue2中得到了很大的运用，用来监听数据并及时更新dom。在vue3中则是用proxy代替了它，主要是因为proxy能监听到数组（还是对象？）的变化。

#### 读取属性的特性

Object.getOwnPropertyDescriptor()

```
var book = {'_year':1993}
var descriptor = Object.getOwnPropertyDescriptor(book, "_year");
console.log(descriptor)
```
## 总结

对象数据属性分为修改数据属性和访问器属性，都可以通过Object.defineProperty()来定义，并且可以通过Object.getOwnPropertyDescriptro()来获取数据属性。